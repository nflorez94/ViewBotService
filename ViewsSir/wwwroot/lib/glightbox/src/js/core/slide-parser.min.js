/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/glightbox@3.2.0/src/js/core/slide-parser.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{extend,has,each,isNil,isNode,isObject,isNumber}from"../utils/helpers.js";export default class SlideConfigParser{constructor(e={}){this.defaults={href:"",sizes:"",srcset:"",title:"",type:"",videoProvider:"",description:"",alt:"",descPosition:"bottom",effect:"",width:"",height:"",content:!1,zoomable:!0,draggable:!0},isObject(e)&&(this.defaults=extend(this.defaults,e))}sourceType(e){let t=e;if(null!==(e=e.toLowerCase()).match(/\.(jpeg|jpg|jpe|gif|png|apn|webp|avif|svg)/))return"image";if(e.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||e.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||e.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/))return"video";if(e.match(/vimeo\.com\/([0-9]*)/))return"video";if(null!==e.match(/\.(mp4|ogg|webm|mov)/))return"video";if(null!==e.match(/\.(mp3|wav|wma|aac|ogg)/))return"audio";if(e.indexOf("#")>-1){if(""!==t.split("#").pop().trim())return"inline"}return e.indexOf("goajax=true")>-1?"ajax":"external"}parseConfig(e,t){let i=extend({descPosition:t.descPosition},this.defaults);if(isObject(e)&&!isNode(e)){has(e,"type")||(has(e,"content")&&e.content?e.type="inline":has(e,"href")&&(e.type=this.sourceType(e.href)));let s=extend(i,e);return this.setSize(s,t),s}let s="",o=e.getAttribute("data-glightbox"),h=e.nodeName.toLowerCase();if("a"===h&&(s=e.href),"img"===h&&(s=e.src,i.alt=e.alt),i.href=s,each(i,((s,o)=>{has(t,o)&&"width"!==o&&(i[o]=t[o]);const h=e.dataset[o];isNil(h)||(i[o]=this.sanitizeValue(h))})),i.content&&(i.type="inline"),!i.type&&s&&(i.type=this.sourceType(s)),isNil(o)){if(!i.title&&"a"==h){let t=e.title;isNil(t)||""===t||(i.title=t)}if(!i.title&&"img"==h){let t=e.alt;isNil(t)||""===t||(i.title=t)}}else{let e=[];each(i,((t,i)=>{e.push(";\\s?"+i)})),e=e.join("\\s?:|"),""!==o.trim()&&each(i,((t,s)=>{const h=o,a=new RegExp("s?"+s+"s?:s?(.*?)("+e+"s?:|$)"),n=h.match(a);if(n&&n.length&&n[1]){const e=n[1].trim().replace(/;\s*$/,"");i[s]=this.sanitizeValue(e)}}))}if(i.description&&"."===i.description.substring(0,1)){let e;try{e=document.querySelector(i.description).innerHTML}catch(e){if(!(e instanceof DOMException))throw e}e&&(i.description=e)}if(!i.description){let t=e.querySelector(".glightbox-desc");t&&(i.description=t.innerHTML)}return this.setSize(i,t,e),this.slideConfig=i,i}setSize(e,t,i=null){const s="video"==e.type?this.checkSize(t.videosWidth):this.checkSize(t.width),o=this.checkSize(t.height);return e.width=has(e,"width")&&""!==e.width?this.checkSize(e.width):s,e.height=has(e,"height")&&""!==e.height?this.checkSize(e.height):o,i&&"image"==e.type&&(e._hasCustomWidth=!!i.dataset.width,e._hasCustomHeight=!!i.dataset.height),e}checkSize(e){return isNumber(e)?`${e}px`:e}sanitizeValue(e){return"true"!==e&&"false"!==e?e:"true"===e}}
//# sourceMappingURL=/sm/027c6d2852104bd79e9871ed6f59f52669fe7095027b7da54d6bf9a9d5de9300.map