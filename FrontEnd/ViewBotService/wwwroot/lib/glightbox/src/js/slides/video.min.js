/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/glightbox@3.2.0/src/js/slides/video.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{has,closest,injectAssets,addClass,removeClass,createHTML,isFunction,waitUntil}from"../utils/helpers.js";export default function slideVideo(e,t,i,s){const l=e.querySelector(".ginner-container"),a="gvideo"+i,r=e.querySelector(".gslide-media"),o=this.getAllPlayers();addClass(l,"gvideo-container"),r.insertBefore(createHTML('<div class="gvideo-wrapper"></div>'),r.firstChild);const d=e.querySelector(".gvideo-wrapper");injectAssets(this.settings.plyr.css,"Plyr");let c=t.href,n=t?.videoProvider,u=!1;r.style.maxWidth=t.width,injectAssets(this.settings.plyr.js,"Plyr",(()=>{if(!n&&c.match(/vimeo\.com\/([0-9]*)/)&&(n="vimeo"),!n&&(c.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||c.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||c.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/))&&(n="youtube"),"local"===n||!n){n="local";let e='<video id="'+a+'" ';e+=`style="background:#000; max-width: ${t.width};" `,e+='preload="metadata" ',e+='x-webkit-airplay="allow" ',e+="playsinline ",e+="controls ",e+='class="gvideo-local">',e+=`<source src="${c}">`,e+="</video>",u=createHTML(e)}const l=u||createHTML(`<div id="${a}" data-plyr-provider="${n}" data-plyr-embed-id="${c}"></div>`);addClass(d,`${n}-video gvideo`),d.appendChild(l),d.setAttribute("data-id",a),d.setAttribute("data-index",i);const r=has(this.settings.plyr,"config")?this.settings.plyr.config:{},y=new Plyr("#"+a,r);y.on("ready",(e=>{o[a]=e.detail.plyr,isFunction(s)&&s()})),waitUntil((()=>e.querySelector("iframe")&&"true"==e.querySelector("iframe").dataset.ready),(()=>{this.resize(e)})),y.on("enterfullscreen",handleMediaFullScreen),y.on("exitfullscreen",handleMediaFullScreen)}))}function handleMediaFullScreen(e){const t=closest(e.target,".gslide-media");"enterfullscreen"===e.type&&addClass(t,"fullscreen"),"exitfullscreen"===e.type&&removeClass(t,"fullscreen")}
//# sourceMappingURL=/sm/b8389e01fd282fef8cc6d4d11ca0113be3f0ee88c0754ca59616e372daadbe1d.map