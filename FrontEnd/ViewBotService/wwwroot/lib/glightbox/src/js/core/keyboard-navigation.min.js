/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/glightbox@3.2.0/src/js/core/keyboard-navigation.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{addEvent,addClass,removeClass,each}from"../utils/helpers.js";function getNextFocusElement(e=-1){const t=document.querySelectorAll(".gbtn[data-taborder]:not(.disabled)");if(!t.length)return!1;if(1==t.length)return t[0];"string"==typeof e&&(e=parseInt(e));const n=[];each(t,(e=>{n.push(e.getAttribute("data-taborder"))}));const o=Math.max.apply(Math,n.map((e=>parseInt(e))));let a=e<0?1:e+1;a>o&&(a="1");const r=n.filter((e=>e>=parseInt(a))).sort()[0];return document.querySelector(`.gbtn[data-taborder="${r}"]`)}export default function keyboardNavigation(e){if(e.events.hasOwnProperty("keyboard"))return!1;e.events.keyboard=addEvent("keydown",{onElement:window,withCallback:(t,n)=>{const o=(t=t||window.event).keyCode;if(9==o){const e=document.querySelector(".gbtn.focused");if(!e){const e=!(!document.activeElement||!document.activeElement.nodeName)&&document.activeElement.nodeName.toLocaleLowerCase();if("input"==e||"textarea"==e||"button"==e)return}t.preventDefault();const n=document.querySelectorAll(".gbtn[data-taborder]");if(!n||n.length<=0)return;if(!e){const e=getNextFocusElement();return void(e&&(e.focus(),addClass(e,"focused")))}let o=getNextFocusElement(e.getAttribute("data-taborder"));removeClass(e,"focused"),o&&(o.focus(),addClass(o,"focused"))}39==o&&e.nextSlide(),37==o&&e.prevSlide(),27==o&&e.close()}})}
//# sourceMappingURL=/sm/f26b9e07fb261e1f8f31f0daa4a2a2d7e8c399dc4370ca8ead5f57101a0a7d2b.map